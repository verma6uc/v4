# Manual Application Roles Assignment User Stories

## Use Case Information
Use Case: Manual Application Roles Assignment
Identifier: USPM.MARA
Uniqueness Check: 1

## User Story: USPM.MARA.US1
Title: Admin views Application Role Assignments
Identifier: USPM.MARA.US1
Uniqueness Check: 1

Description:
The Admin accesses the application role assignment section which serves as the central hub for managing role assignments across the platform. The system presents a comprehensive view that shows the relationship between users, applications, and their role assignments. For each role assignment entry, the system displays the user name, their designation, assigned spaces, the application name, current roles, assignment dates, and who made the assignments. The system allows toggling between different view perspectives: user-centric view showing all applications and roles for each user, application-centric view showing all users and their roles for each application, and space-centric view showing role assignments within each space context. The Admin can expand entries to see additional details including assignment history, last modification dates, and role assignment justifications. The system provides quick statistics and insights about role assignments such as recently changed assignments, users with most/least roles, and applications with most role assignments. All information is presented in a paginated format with the ability to customize the number of entries per page and which columns to display. The view maintains consistent sorting based on last modified date by default but remembers Admin's sorting preferences. The system ensures the Admin only sees role assignments within their scope of access.

## User Story: USPM.MARA.US2
Title: Admin filters Application Role Assignment View
Identifier: USPM.MARA.US2
Uniqueness Check: 1

Description:
The Admin can access filtering options either through the filter button in the header or through column-specific filter options in the role assignment view. The system provides a comprehensive set of filter criteria across multiple dimensions. For user-related filters, the Admin can filter by user names, designations, and their space assignments. For application-related filters, the system allows filtering by application names, deployment status, and the spaces they are deployed to. For role-related filters, the Admin can filter by specific roles, assignment dates, and who made the assignments. When applying filters, the system shows an active filter indicator in the header with a count of applied filters. Each applied filter appears as a removable tag, allowing the Admin to remove individual filters quickly. The Admin can combine multiple filters using AND/OR conditions for complex filtering scenarios. The system maintains filter context when switching between different views (user-centric, application-centric, space-centric), adjusting the display appropriately while keeping relevant filters active. The system allows saving frequently used filter combinations as named presets for quick access. These saved filters appear in a dropdown menu and can be managed by the Admin. When filters are applied, the system updates all view components including the quick statistics to reflect the filtered dataset. The system preserves the Admin's last used filters within their session and provides options to clear all filters to return to the unfiltered view. All filtering operations maintain the Admin's scope of access, ensuring they can only filter within their authorized data set.

## User Story: USPM.MARA.US3
Title: Admin manages Application Roles from Assignment Section
Identifier: USPM.MARA.US3
Uniqueness Check: 1

Description:
The Admin initiates role management from the main assignment section by selecting users or applications from their respective views. From the user-centric view, the Admin can select one or multiple users to modify their roles across applications. From the application-centric view, the Admin can select one or multiple applications to modify role assignments for users. From the space-centric view, the Admin can select a space to manage roles for applications deployed in that space. Once the selection is made, the system presents a role management interface showing the current state of assignments. For each user-application combination, the system displays currently assigned roles and available roles, clearly distinguishing between them. The Admin can assign new roles or remove existing ones, with the system providing real-time feedback about role dependencies and conflicts. When managing roles for multiple users or applications simultaneously, the system shows a matrix view that clearly indicates commonalities and differences in current assignments. The system validates all role changes in real-time. For role assignments, it checks for required role combinations, prevents conflicting role assignments, and ensures compliance with space-based access rules. For role removals, it validates dependencies and maintains minimum required access levels. The Admin must provide a reason for the changes, which can be a common reason for all changes or specific reasons for individual changes. Before confirming changes, the system presents a comprehensive preview showing all modifications, clearly distinguishing between additions and removals. The preview includes impact analysis, highlighting any indirect effects of the changes. Upon confirmation, the system processes all changes, updates the assignments, and refreshes the view to show the new state. The system generates detailed audit records for each change and sends notifications to affected users and relevant stakeholders. If any changes fail, the system provides specific failure reasons while successfully applying valid changes. Throughout the process, the system maintains the Admin's context, allowing them to modify their selections, adjust changes, or cancel the operation. All changes respect the Admin's scope of access and the platform's security policies. The interface remains responsive during processing, with clear progress indicators for bulk operations.

## User Story: USPM.MARA.US4
Title: Admin manages Application Roles from User Profile
Identifier: USPM.MARA.US4
Uniqueness Check: 1

Description:
The Admin accesses role management directly from a user's profile where the system presents the complete role assignment context for that specific user. The system displays the user's designation and space assignments prominently to provide context for role management. Below this, the system shows a consolidated view of all applications accessible to the user based on their space assignments, organized by spaces for clear context. For each application, the system displays current role assignments and available roles, with clear visual distinction between assigned and unassigned roles. The Admin can expand each application entry to see detailed role descriptions, assignment history, and any role dependencies. The system groups applications by their deployment status (active, inactive) and spaces, making it easy to understand the scope of current assignments. As the Admin makes role changes, the system provides immediate validation feedback. It prevents invalid role combinations, enforces required role dependencies, and ensures compliance with space-based access rules. When removing roles, the system checks for dependencies and data access implications. The Admin must provide reasons for role changes, which the system records for audit purposes. Before finalizing changes, the system presents a preview of all modifications, clearly showing which roles will be added or removed across applications. Upon confirmation, the system processes the changes, updates the assignments, and refreshes the user's profile view to reflect the new state. The system generates audit records and sends notifications to the user and relevant stakeholders about the role changes. Throughout the process, the Admin can easily navigate between applications, modify multiple role assignments, and cancel changes if needed. The interface remains within the user profile context, maintaining a focused view on the specific user's role assignments while providing access to all necessary role management capabilities.

## User Story: USPM.MARA.US5
Title: Admin manages Application Roles from User List
Identifier: USPM.MARA.US5
Uniqueness Check: 1

Description:
The Admin initiates role management from the user list by selecting one or multiple users through checkboxes. Upon selection, the system enables a 'Manage Roles' action in the list view's action bar. When initiated, the system presents a role management interface while maintaining the user list context visible in the background. For single user selection, the interface shows the user's details including designation and space assignments. For multiple users, the system shows a summary of selected users with any common attributes highlighted. The system presents a space-organized view of applications accessible to the selected users based on their space assignments. For each application, it shows current role assignments, with visual indicators for common and differing assignments when multiple users are selected. The interface clearly distinguishes between assigned and available roles, using visual cues to show partially assigned roles across the user selection. As the Admin makes role changes, the system provides real-time validation feedback. For role assignments, it validates against role dependencies, space-based restrictions, and security policies. For role removals, it checks for dependencies and data access implications. When managing roles for multiple users, the system allows applying changes uniformly across all selected users or specifying different changes for different users. The Admin must provide a reason for the changes, with options for a common reason or user-specific reasons. The system shows a preview of all pending changes before confirmation, clearly indicating which roles will be added or removed for each user-application combination. Upon confirmation, the system processes the changes, updates the assignments, and refreshes the user list view while maintaining the user selection. The system generates detailed audit records and sends notifications to affected users and stakeholders. Throughout the operation, the Admin can modify user selection from the list, adjust role changes, or cancel the operation. The interface preserves the user list context, allowing easy navigation between role management and the user list while maintaining all selection and change states.

## User Story: USPM.MARA.US6
Title: Admin manages Application Roles from Application Details
Identifier: USPM.MARA.US6
Uniqueness Check: 1

Description:
The Admin initiates role management from the user list by selecting one or multiple users through checkboxes. Upon selection, the system enables a 'Manage Roles' action in the list view's action bar. When initiated, the system presents a role management interface while maintaining the user list context visible in the background. For single user selection, the interface shows the user's details including designation and space assignments. For multiple users, the system shows a summary of selected users with any common attributes highlighted. The system presents a space-organized view of applications accessible to the selected users based on their space assignments. For each application, it shows current role assignments, with visual indicators for common and differing assignments when multiple users are selected. The interface clearly distinguishes between assigned and available roles, using visual cues to show partially assigned roles across the user selection. As the Admin makes role changes, the system provides real-time validation feedback. For role assignments, it validates against role dependencies, space-based restrictions, and security policies. For role removals, it checks for dependencies and data access implications. When managing roles for multiple users, the system allows applying changes uniformly across all selected users or specifying different changes for different users. The Admin must provide a reason for the changes, with options for a common reason or user-specific reasons. The system shows a preview of all pending changes before confirmation, clearly indicating which roles will be added or removed for each user-application combination. Upon confirmation, the system processes the changes, updates the assignments, and refreshes the user list view while maintaining the user selection. The system generates detailed audit records and sends notifications to affected users and stakeholders. Throughout the operation, the Admin can modify user selection from the list, adjust role changes, or cancel the operation. The interface preserves the user list context, allowing easy navigation between role management and the user list while maintaining all selection and change states.

## User Story: USPM.MARA.US7
Title: Admin manages Application Roles from Application List
Identifier: USPM.MARA.US7
Uniqueness Check: 1

Description:
The Admin initiates role management from the application list by selecting one or multiple applications through checkboxes. Upon selection, the system enables a 'Manage Roles' action in the list view's action bar. When initiated, the system presents a role management interface while maintaining the application list context visible in the background. For single application selection, the interface shows the application details including its deployment status and space context. For multiple applications, the system shows a summary of selected applications with any common attributes highlighted. The system presents a space-organized view of users who have access to the selected applications based on their space assignments. For each user, it shows their designation and current role assignments in the selected applications. The interface clearly distinguishes between assigned and available roles, using visual indicators to show partially assigned roles when multiple applications are selected. The system groups users by their spaces and designations for easier management. As the Admin makes role changes, the system provides real-time validation feedback. For role assignments, it validates against application-specific role dependencies, space-based restrictions, and security policies. For role removals, it checks for dependencies and data access implications. When managing roles across multiple applications, the system allows applying changes uniformly or specifying different role assignments for different applications. The Admin must provide a reason for the changes, with options for a common reason or application-specific reasons. The system shows a preview of all pending changes before confirmation, clearly indicating which roles will be added or removed for each user-application combination. Upon confirmation, the system processes the changes, updates the assignments, and refreshes the application list view while maintaining the application selection. The system generates detailed audit records and sends notifications to affected users and stakeholders. Throughout the operation, the Admin can modify application selection from the list, adjust role changes, or cancel the operation. The interface preserves the application list context, allowing easy navigation between role management and the application list while maintaining all selection and change states.

## User Story: USPM.MARA.US8
Title: System validates Role Assignment Changes
Identifier: USPM.MARA.US8
Uniqueness Check: 1

Description:
The system executes comprehensive validation checks whenever role assignments are modified, irrespective of the entry point or context of changes. For each role assignment or removal operation, the system first validates the Admin's permissions to make the intended changes. It verifies the Admin has appropriate access to both the users and applications involved in the changes. The system then performs space-context validation, ensuring all role assignments align with space hierarchies and access patterns. It verifies that users have appropriate space access for the applications where roles are being assigned. When roles are being removed, the system checks if the user requires access to the application through other space contexts before allowing removal. For application-specific validations, the system enforces role dependency rules. It checks that all prerequisite roles are assigned when adding new roles, prevents assignment of mutually exclusive roles, and maintains minimum required role combinations. When removing roles, the system validates that no dependent roles would be orphaned and that minimum operational access levels are maintained. The system performs designation-based validations, checking if the intended role assignments align with users' designations. It alerts the Admin when role assignments deviate significantly from designation-based patterns, requiring additional justification for such exceptions. For bulk operations, the system validates each user-application-role combination individually while maintaining a coherent validation context across the entire operation. When validation issues are detected, the system provides detailed feedback identifying specific problems and suggesting resolutions. It categorizes issues as blocking errors that prevent the operation or warnings that require acknowledgment. The system maintains partial validity states during complex operations, allowing Admins to resolve issues incrementally while preserving valid changes. All validation results are logged for audit purposes, including both failed and overridden validations with their provided justifications.

## User Story: USPM.MARA.US9
Title: System notifies Role Assignment Changes
Identifier: USPM.MARA.US9
Uniqueness Check: 1

Description:
The system automatically generates and sends notifications whenever application role assignments are modified. For each role change operation, the system identifies all stakeholders requiring notification: the affected users, their reporting managers, space administrators of relevant spaces, and any other configured notification recipients based on company policies. The system personalizes notifications based on the recipient type. For affected users, the notification includes their specific role changes across applications, clearly distinguishing between newly granted and removed access. It includes direct links to the applications where roles changed and provides any relevant instructions for new access. For administrators and managers, the notifications include a summary of all changes made, the users affected, and the Admin who performed the changes. For bulk operations, the system consolidates notifications intelligently to prevent notification fatigue. Instead of sending individual notifications for each change, it generates role-change summaries grouped by application or space context while maintaining all necessary details. Each notification includes the timestamp of changes, the reason provided for the changes, and any relevant context about the operation. The system delivers notifications through multiple configured channels - in-platform notifications, emails, and any integrated communication systems. It maintains delivery status tracking for audit purposes and requires acknowledgment for critical role changes. The system preserves notification history and makes it accessible through the audit logs, linking each notification to its corresponding role change operation. When role changes are scheduled for future dates, the system manages notification timing appropriately, sending advance notifications to all stakeholders and follow-up notifications when changes take effect. For failed role assignments, the system notifies relevant administrators with detailed failure reasons while informing affected users about the status of their access requests.

## User Story: USPM.MARA.US10
Title: User receives notification for Role Assignment Change
Identifier: USPM.MARA.US10
Uniqueness Check: 1

Description:
The user receives a notification when any changes are made to their application role assignments. The notification appears in the user's platform notification center with a clear visual indicator showing unread role change notifications. For immediate attention, the system also sends an email to the user's registered email address. If multiple role changes occur within a short time frame, the system consolidates them into a single comprehensive notification to avoid overwhelming the user. The notification presents role changes in a clear, user-friendly format. For new role assignments, it specifies which applications the user can now access and what capabilities they have gained through these roles. For role removals, it clearly indicates which access has been removed and provides instructions for handling any pending work in those applications. When roles are modified across multiple applications, the notification organizes changes by application and space context for easy understanding. The user can access detailed information about the changes through embedded links in the notification. These links direct the user to relevant applications or to a detailed view of their current role assignments. The notification includes the name of the Admin who made the changes and the provided reason for the changes. For roles that require additional setup or training, the notification includes relevant instructions or resource links. The system maintains these notifications in the user's notification history, allowing them to review past role changes. The user can mark notifications as read, archive them, or keep them for reference. For critical role changes, the system may require the user to acknowledge the notification, maintaining a record of when the user was informed of their access changes.